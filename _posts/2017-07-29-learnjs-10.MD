---
layout: post
title: JavaScript (10)
description: 浏览器 (一)
---

```
IE 6~11：国内用得最多的IE浏览器，历来对W3C标准支持差。从IE10开始支持ES6标准；

Chrome：Google出品的基于Webkit内核浏览器，内置了非常强悍的JavaScript引擎——V8。由于Chrome一经安装就时刻保持自升级，所以不用管它的版本，最新版早就支持ES6了；

Safari：Apple的Mac系统自带的基于Webkit内核的浏览器，从OS X 10.7 Lion自带的6.1版本开始支持ES6，目前最新的OS X 10.11 El Capitan自带的Safari版本是9.x，早已支持ES6；

Firefox：Mozilla自己研制的Gecko内核和JavaScript引擎OdinMonkey。早期的Firefox按版本发布，后来终于聪明地学习Chrome的做法进行自升级，时刻保持最新；

移动设备上目前iOS和Android两大阵营分别主要使用Apple的Safari和Google的Chrome，由于两者都是Webkit核心，结果HTML5首先在手机上全面普及（桌面绝对是Microsoft拖了后腿），对JavaScript的标准支持也很好，最新版本均支持ES6。

```
[来源](https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/0014344997647015f03abc1bb5f46129a7526292a12ab26000)


### window

[window](http://www.w3school.com.cn/jsref/dom_obj_window.asp)对象不但是全局作用域，还可以表示浏览器窗口。

### navigator

Navigator 对象包含有关浏览器的信息。

### DOM

Document Object Model,是W3C组织推荐的处理可扩展标志语言的标准编程接口。

目的就是按照标准把文档结构化为一棵树。

#### 操作dom

HTML文档被浏览器解析成一颗DOM树之后，可以通过JavaScript来操作DOM，达到改变文档结构的目的。

操作基本上就是增删改查四种:

+ 添加 : 在dom节点下新增子节点，比如在<body>节点下新增<p>
+ 删除 : 删除一个dom节点，相当于删除了该节点所有内容，包括其子节点在内。
+ 更新 : 修改DOM节点内容。
+ 遍历 : 遍历某节点下所有子节点，然后进行其他操作。

##### 获取节点

示例 HTML 文档.
```HTML
<div class="c-red">
    <p id="test-p">JavaScript</p>
    <p>Java</p>
  </div>
  <div class="c-red c-green">
    <p>Python</p>
    <p>Ruby</p>
    <p>Swift</p>
  </div>
  <div class="c-green">
    <p>Scheme</p>
    <p>Haskell</p>
  </div>
</div>
```
//获取 Python Ruby Swift
```JavaScript
var arr = document.getElementsByClassName('c-red')[1].children;
```

##### 更新DOM
  找到节点，然后调用 *innerHtml* or *innerText* or *textContent* 属性，通过赋值的方式，就可以直接改变节点.

  *innetHtml* 非常强大，不但可以改变dom节点内容，还可以改变该dom节点下的子树。
  但是要注意，输入字符串是否需要编码，避免XSS攻击。

  *innerText* 可以自动对字符串进行编码，确保不会被设置任何html标签。

  ```HTML
  <!-- HTML结构 -->
  <div id="test-div">
    <p id="test-js">javascript</p>
    <p>Java</p>
  </div>
  ```

  ```JavaScript
  'use strict'
  // 获取<p>javascript</p>节点:
  var js = document.getElementById('test-js');

  // 修改文本为JavaScript:
  js.innerText = 'JavaScript';

  // 修改CSS为: color: #ff0000, font-weight: bold
  js.style.color = '#ff0000';
  js.style.fontWeight = 'bold';
  ```
##### 插入DOM

  + 如果节点为空

    例如 ```<div></div>```,可以直接 ```innerHtml = <h6>child<h6> ```。
  + 节点不为空

    之前的做法就会替换掉原来的子节点,此时可以使用 ```appendChild//添加一个新的子节点到原有子节点的末尾```；如果要把新的子节点插入任意指定位置，则利用```parentElement.insertBefore(newElement,referenceElement);```，新节点会插入到referenceElement之前。

##### 删除DOM

   找到要删除的节点和它的父节点，然后调用父节点的 ```removeChild``` 删除该节点即可.

   如何快速找到父节点 ```子节点.parentElement;```

   ```children```是个只读属性，子节点变化时，```children```属性会时时更新，比如当删除掉一个子节点时，```children.lenght```会自动减一。

   ```HTML
   <ul id="test-list">
    <li>hp</li>
    <li>ipod</li>
    <li>联想</li>
    <li>mbp</li>
    <li>dell</li>
    <li>ipad</li>
</ul>
   ```
   删除所有苹果公司产品
   ```JavaScript
   var parent = document.getElementById('test-list');

  parent.removeChild(parent.children[1]);
  parent.removeChild(parent.children[2]);
  parent.removeChild(parent.children[3]);
   ```
